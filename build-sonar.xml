<project name="routemaster-sonar" default="sonar">
	<path id="classpath-sonar">
		<fileset dir="lib/test">
			<include name="*.jar"/>
		</fileset>
	</path>

	<!-- Define the SonarQube target -->
	<target name="sonar">
		<property name="sonar.jdbc.url" value="jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8" />
		<property name="sonar.jdbc.username" value="root" />
		<property name="sonar.jdbc.password" value="password" />

		<!-- Define the SonarQube project properties -->
		<property name="sonar.projectKey" value="synapticloop:routemaster" />
		<property name="sonar.projectName" value="routemaster" />
		<property name="sonar.projectVersion" value="1.0" />
		<property name="sonar.language" value="java" />
		<property name="sonar.sources" value="src/main/java/synapticloop/" />
		<property name="sonar.java.binaries" value="build/" />
		<property name="sonar.java.libraries" value="lib/runtime/*.jar" />

		<property name="sonar.issue.ignore.multicriteria" value="e1,e2,e3,e4" />

		<!-- tab characters should not be used -->
		<property name="sonar.issue.ignore.multicriteria.e1.ruleKey" value="squid:S00105" />
		<property name="sonar.issue.ignore.multicriteria.e1.resourceKey" value="**/*.java" />
		<!-- right curly braces should be on a new line -->
		<property name="sonar.issue.ignore.multicriteria.e2.ruleKey" value="squid:RightCurlyBraceStartLineCheck" />
		<property name="sonar.issue.ignore.multicriteria.e2.resourceKey" value="**/*.java" />
		<!-- Useless parentheses around expressions should be removed to prevent any misunderstanding -->
		<property name="sonar.issue.ignore.multicriteria.e3.ruleKey" value="squid:UselessParenthesesCheck" />
		<property name="sonar.issue.ignore.multicriteria.e3.resourceKey" value="**/*.java" />
		<!-- Statements should be on separate lines -->
		<property name="sonar.issue.ignore.multicriteria.e4.ruleKey" value="squid:S00122" />
		<property name="sonar.issue.ignore.multicriteria.e4.resourceKey" value="**/*.java" />

		<taskdef name="sonar" classpathref="classpath-sonar" classname="org.sonar.ant.SonarTask" />

		<!-- Execute the SonarQube analysis -->
		<sonar />
	</target>
</project>